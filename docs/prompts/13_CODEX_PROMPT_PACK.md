# 13) Codex Prompt Pack (복붙용)

> 아래 프롬프트는 “기획문서 → 개발 설계/코드”로 바로 연결하기 위한 템플릿이다.  
> Codex에게 순서대로 주면, 설계→구현이 단계적으로 나온다.

---

## P0) 작업 규칙 확인 프롬프트(가장 먼저)
```
너는 이 프로젝트의 코드 에이전트야.
반드시 docs/00_CODEX_RULES.md 규칙을 최우선으로 지켜.
특히 워크스페이스(리포지토리) 밖의 시스템 경로(/etc, /usr, /mnt 등)에 접근하거나 파일 작업을 하기 전에는
반드시 사용자(안정환)의 명시적 허가를 먼저 요청해.
규칙을 확인했다면, 작업 계획을 10개 이내 체크리스트로 먼저 제시해.
```

## P1) 기획 요약 → 기술 설계로 변환
```
docs/01~12를 읽고, MVP를 기준으로 기술 설계 문서를 작성해줘.
- 모듈 구조(GameCore/Content/Render/UI)
- 데이터 스키마(유닛/스킬/시너지/웨이브/유물)
- 런 저장/불러오기 구조
- Seeded RNG 설계
산출물: docs/TECH_SPEC_MVP.md (새 파일) + 구현 우선순위
```

## P2) JSON Schema & 샘플 데이터 생성
```
docs/schemas에 JSON Schema를 만들고, docs/examples에 샘플 JSON을 만들어줘.
검증 규칙(필수 필드, 범위, enum)을 포함하고,
서로 참조되는 id들이 무결성을 갖도록 해줘.
최소: units, skills, synergies, enemies, waves, relics, economy
```

## P3) Content Loader + Validator 구현
```
content/*.json을 로드하고 스키마 검증을 수행하는 Content 모듈을 구현해줘.
실패 시 에러 메시지를 사람이 이해하기 쉽게 출력해야 해.
개발 모드에서만 핫리로드(선택) 가능하면 추가해줘.
단위 테스트 3개 이상 포함.
```

## P4) Seeded RNG + Run State 구현
```
Seeded RNG(PRNG)를 구현하고, runSeed 기반으로
소환/드랍/크리티컬이 재현 가능하도록 만들어줘.
RunState(보드/웨이브/골드/유물/시너지/로그)를 설계하고,
JSON으로 저장/복구 가능하게 해줘.
```

## P5) GameCore 전투 루프 최소 구현
```
docs/04의 규칙을 기반으로 전투 루프(스폰/타겟팅/데미지/상태이상)를 구현해줘.
Render/UI 의존 없이 순수 로직으로.
웨이브 1~3 샘플만으로도 시뮬레이션 가능하면 됨.
```

## P6) UI 플로우 연결(로비→런→결과)
```
docs/09의 화면 플로우를 최소 구현해서
로비→게임→결과로 이어지게 해줘.
HUD에는 골드/웨이브/성문HP/소환 버튼이 있어야 해.
```

## P7) 밸런스 시뮬레이터 스켈레톤
```
docs/07을 기반으로 시뮬레이터(헤드리스)를 만들어,
랜덤 시드 N개를 돌려 평균 도달 웨이브/클리어율을 출력해줘.
CSV로 결과를 내보내면 더 좋아.
```

---

## 출력 포맷 권장
- 변경 파일 목록
- 핵심 설계 설명
- 실행/테스트 방법
- 리스크/주의사항
