# 07) Economy & Balancing Framework

> 목표: “운빨+합성” 게임이 무너지지 않도록, 경제/밸런스의 기준선을 만든다.  
> 이 문서는 숫자(파라미터)를 **데이터로 조정**할 수 있게 하는 틀이다.

## 1. 재화 종류
- 런 재화: `Gold`
- 메타 재화: `Medal`, `Supply` (문서 06)

## 2. 런 경제(골드) 기본안
### 2.1 골드 수급(예시)
- 웨이브 시작: +3 Gold
- 적 처치: +0~1 Gold (적 타입에 따라)
- 웨이브 클리어 보너스: +5 Gold
- (선택) 이자: 보유 골드 10당 +1 Gold (최대 +5)  
  - 이자는 “저축 전략”을 만들어 선택을 늘리지만, 캐주얼에선 복잡할 수 있음

### 2.2 골드 지출(예시)
- 소환 1회: 3 Gold
- 리롤: 2 Gold (사용 횟수/웨이브 따라 증가 가능)
- (선택) 강화: 특정 유닛 1개에 +atk/+hp (런 내 강화)

## 3. 소환(확률) 설계 원칙
### 3.1 티어 확률(웨이브에 따라 변하는 곡선)
- 웨이브가 진행할수록 “상위 티어” 확률을 조금씩 올린다.
- 예시(참고):
  - W1~5: T1 85%, T2 15%, T3 0%
  - W6~12: T1 70%, T2 25%, T3 5%
  - W13+: T1 55%, T2 35%, T3 10%

### 3.2 공정성 옵션
- “연속으로 같은 유닛만 나오는 스트레스” 완화:
  - 최근 N회 등장 유닛 가중치 감소
  - 특정 티어 연속 미등장 시, 다음 소환에서 티어 보정(소프트 피티)

## 4. 전투 밸런스 프레임(수치화 방법)
### 4.1 기준선 만들기(Baseline)
1) 웨이브 1의 적 총 HP 합을 정한다. (예: 300)
2) “MVP 평균 보드(★1 유닛 4개)”의 총 DPS를 정한다. (예: 35 DPS)
3) 목표 킬타임(TTK)을 정한다. (예: 10초 내 웨이브 정리)
4) 그러면 `총HP ≈ DPS × TTK` 관계로 맞춘다.

### 4.2 파워 예산(Power Budget)
- 웨이브 n에서 요구되는 “필요 DPS”를 계산하고,
- 유닛/시너지/유물로 제공되는 파워를 분배한다.
- 예:
  - 유닛 성장(★) : +60% 파워
  - 시너지 완성 : +20% 파워
  - 유물 1개 선택 : +10~25% 파워(유물은 변수가 커도 됨)

## 5. 밸런싱 작업 프로세스(추천)
1) 스키마 확정(문서 10, schemas)
2) 헤드리스 시뮬레이터로 1,000런 자동(시드 랜덤)
3) 지표:
   - 평균 도달 웨이브
   - 클리어율(챕터)
   - 메타 업그레이드 단계별 난이도 변화
4) 파라미터 조정:
   - 소환 비용 / 골드 수급 / 티어 확률 / 적 HP 곡선 / 유물 파워

## 6. Codex 산출물
- 경제/확률 파라미터를 `content/economy.json` 같은 데이터로 분리
- 밸런스 자동 테스트(시뮬레이터) 스켈레톤 생성
- 로그 수집(웨이브별 DPS/피해/누락 수)
