# Codex 작업 규칙 (필독)

이 문서는 Codex(코드 에이전트)가 이 기획문서 묶음을 기반으로 **개발 설계/코드 생성/리팩토링**을 수행할 때 반드시 지켜야 하는 규칙을 정의한다.

## 0) 경로/권한 규칙 (절대)

### 0.1 허용 경로
- Codex는 **프로젝트 워크스페이스(리포지토리) 루트 내부 경로**에서만 파일 작업(읽기/쓰기/생성/삭제/실행)을 수행한다.

### 0.2 금지 경로 (사용자 허가 필요)
- 아래와 같은 **워크스페이스 외부 시스템 경로**(절대경로 포함)에 대해선,
  작업(읽기/쓰기/삭제/실행) 전 **반드시 사용자(안정환)의 명시적 허가를 먼저 받는다.**
  - 예: `/etc/**`, `/usr/**`, `/bin/**`, `/sbin/**`, `/var/**`, `/opt/**`, `/home/**`, `/root/**`, `/mnt/**`
  - Windows 예: `C:\Windows\**`, `C:\Program Files\**` 등
- **예외 없음**: 로그/캐시/임시파일도 워크스페이스 내부(`./.tmp`, `./.cache`, `./artifacts`)로만 생성한다.

## 1) 산출물 규칙
- 변경 사항은 작은 단위 커밋/PR로 나눌 수 있도록 **기능 단위로 묶어서** 제안한다.
- 반드시 다음을 함께 제공한다.
  - (1) 무엇을/왜/어떻게 바꿨는지 설명
  - (2) 실행/테스트 방법
  - (3) 롤백 방법(가능한 경우)

## 2) 기획 → 개발 설계 변환 방식
- 기획 문서의 “의도”를 유지하되, 구현은 **데이터-드리븐(스크립트 기반)** 을 우선한다.
- 아래 우선순위를 따른다.
  1) 최소 기능(MVP)로 플레이 가능하게 만들기
  2) 재현 가능한 RNG(시드 고정) + 이벤트 로그로 디버깅 가능하게 만들기
  3) 컨텐츠는 JSON/YAML로 분리하여 밸런싱/확장 비용 낮추기

## 3) 모호한 부분 처리
- 문서에 숫자/규칙이 모호하면, Codex는 **합리적 기본값**으로 구현하되
  - `TODO:` 로 표시하고
  - “왜 이 기본값을 택했는지”를 문서/주석에 남긴다.
