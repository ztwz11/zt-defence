# 05) Units / Skills / Synergies

> 목표: “유닛/스킬/시너지”를 **데이터로 정의**하고, Codex가 엔진에 꽂아 넣을 수 있도록 구조화한다.

## 1. 유닛 분류(기본안)
### 1.1 역할(Role)
- **탱커(Tank)**: 사거리 짧음, 생존/어그로, 전방 유지
- **딜러(DPS)**: 단일/광역 딜, 중~장거리
- **컨트롤(CC)**: 슬로우/스턴/넉백
- **서포터(Support)**: 힐/버프/자원

> MVP에선 4역할만으로 충분(확장 시 “소환사, 디버퍼, 폭탄병” 등 추가).

### 1.2 태그(Tag)
- 직업/속성/세력/무기 등을 태그로 표현
  - 예: `faction:knights`, `element:fire`, `weapon:bow`, `class:healer`
- 시너지는 “태그 카운트”로 발동한다.

## 2. 유닛 스탯 모델(권장)
- `hp`, `atk`, `atkSpeed`, `range`, `moveType`(고정이면 생략), `targetRule`
- 성장(★): 같은 유닛 3개 합성 → ★ 상승
  - ★1 → ★2 → ★3 (MVP 3단계 권장)
- 스탯 스케일 예시(데이터화 권장)
  - ★2: HP×1.8, ATK×1.7
  - ★3: HP×3.2, ATK×3.0

## 3. 스킬 모델(데이터-드리븐 핵심)
### 3.1 스킬 타입
- `Passive` : 항상 적용(예: 공격력 +10%)
- `Triggered` : 특정 이벤트 시 발동
  - `OnAttack`, `OnHit`, `OnKill`, `OnWaveStart`, `OnAllyDeath` 등
- `Active` : 쿨다운 기반(자동 시전)

### 3.2 효과(Effect) 타입(최소 세트)
- `Damage`(단일/광역, 계수 기반)
- `Heal`(단일/광역)
- `ApplyStatus`(슬로우/스턴/번)
- `BuffStat`(atk/hp/atkSpeed 등)
- `Summon`(소환수, 추후 확장)

> Codex 구현 팁:  
> “트리거 이벤트 → 조건 필터 → 효과 리스트 실행” 구조로 만들면 스킬이 늘어나도 코드 변경이 적다.

## 4. 시너지(Synergy) 모델
### 4.1 발동 조건
- “태그가 같은 유닛 N개 보유(보드 위)” 조건
- 임계값(threshold) 예: 2/4/6

### 4.2 시너지 효과 예시(가칭)
- **기사단(faction:knights)**: 2/4/6
  - 2: 전 유닛 방어 +10
  - 4: 전 유닛 체력 +15%
  - 6: 웨이브 시작 시 보호막(HP의 10%)
- **화염(element:fire)**: 2/4
  - 2: 공격 시 20% 확률로 Burn 2초
  - 4: Burn 대상에게 받는 피해 +15%
- **용병단(faction:merc)**: 2/4/6
  - 골드 수급/리롤 비용 할인 같은 “경제형” 시너지 (운빨 보정에 유용)
- **성직자(class:healer)**: 2/3
  - 2: 초당 아군 회복(오라)
  - 3: 웨이브 종료 시 추가 회복

## 5. 소환(가챠) 테이블
- 소환은 “티어/가중치” 테이블에서 뽑고, 티어 안에서 유닛 가중치로 선택
- 웨이브 진행에 따라 상위 티어 가중치가 올라가도록 설계(성장감)

## 6. 도감/해금(메타)
- 유닛은 기본 풀(런 내 등장)과 “해금 유닛(메타 성장으로 추가)”을 분리 가능
- 해금은 “선택지 증가”로 느껴지게(파워 인플레 과도 금지)

## 7. Codex 산출물
- `UnitDef`, `SkillDef`, `SynergyDef` 데이터 구조 정의
- 태그 카운팅/시너지 적용 시스템 구현
- 합성 규칙 구현(3개 → ★업)
